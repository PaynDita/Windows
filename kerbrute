
kerbrute userenum -d domain.local usernames.txt --dc 192.168.1.1                   (username enumration)

kerbrute asreproast -d domain.local usernames.txt --dc 192.168.1.1                 (AS_REP Roasting)

kerbrute passwordspray -d domain.local --dc 192.168.1.1 usernames.txt passwords.txt  (Password brute forcing)


------------------------------------------------------------------------------------------------------------------

ğŸ”¥ Real-World Example Flow

ğŸ¯ Use kerbrute to enumerate valid users.

ğŸ”¥ AS-REP Roasting with kerbrute or GetNPUsers.py on found users.

ğŸ§ª Try Kerberoasting with GetUserSPNs.py (needs creds).

ğŸ’¥ Crack hashes offline with hashcat.

-----------------------------------------------------------------------



kerbrute is a Go-based tool developed by ropnop for Kerberos pre-authentication enumeration and brute-forcing usernames and passwords in Active Directory environments. It operates over Kerberos and is very fast due to its concurrency model.

ğŸ¯ Use Cases of kerbrute
Feature	Purpose
âœ… Username enumeration	Find valid domain usernames without authentication
âœ… Password brute-forcing	Try passwords for valid usernames using Kerberos (online attack)
âœ… AS-REP Roasting	Enumerate users with DONT_REQ_PREAUTH and dump AS-REP hashes
ğŸ” How kerbrute Differs from GetNPUsers.py / GetUserSPNs.py
Tool	Main Use Case	Auth Required?	SPN Enumeration?	AS-REP Roasting?	Brute-force Passwords?	Speed/Concurrency
kerbrute	User enum, brute-force, AS-REP	âŒ / âœ…	âŒ	âœ…	âœ…	âœ… Very Fast
GetNPUsers.py	AS-REP Roasting	âŒ	âŒ	âœ…	âŒ	âŒ Single-threaded
GetUserSPNs.py	Kerberoasting	âœ…	âœ…	âŒ	âŒ	âŒ Single-threaded
âœ… 1. Username Enumeration

kerbrute can detect valid usernames by observing differences in the Kerberos error messages (e.g., KDC_ERR_C_PRINCIPAL_UNKNOWN vs. KDC_ERR_PREAUTH_REQUIRED).

This is unauthenticated and stealthy compared to LDAP enumeration.

Example:

kerbrute userenum -d domain.local usernames.txt --dc 192.168.1.1

âœ… 2. AS-REP Roasting

Similar to GetNPUsers.py, kerbrute can check for accounts without pre-auth and dump their AS-REP responses for offline cracking.

Example:

kerbrute asreproast -d domain.local usernames.txt --dc 192.168.1.1

âœ… 3. Password Brute-Forcing

kerbrute can perform Kerberos online brute-force attacks (not possible with GetNPUsers or GetUserSPNs).

Works like a Kerberos-aware password spray tool.

Example:

kerbrute passwordspray -d domain.local --dc 192.168.1.1 usernames.txt passwords.txt

ğŸ§  Summary: When to Use What?
Scenario	Recommended Tool
Fast username enumeration	kerbrute userenum
Check for AS-REP roastable users	kerbrute asreproast or GetNPUsers.py
Brute-force user credentials	kerbrute passwordspray
Find SPN accounts for roasting	GetUserSPNs.py
Offline cracking of TGT/TGS	hashcat, john




-----------------------------------------------------------------------

To install Kerbrute

https://github.com/ropnop/kerbrute/releases/tag/v1.0.3

alternatively:

sudo apt update && sudo apt install -y golang-go git && \
cd /tmp && \
git clone https://github.com/ropnop/kerbrute.git && \
cd kerbrute && \
go build -o kerbrute && \
sudo mv kerbrute /usr/local/bin/ && \
sudo chmod +x /usr/local/bin/kerbrute && \
kerbrute --help

note: if any task popup during running above script kill that task eg. kill -9 taskID

--------------------------------------------------------------------------------------------



#./kerbrute userenum -d domainname --dc ipaddress user.txt

------------------------------------------------------------
Alternatively: with Nmap But very slow

nmap -p88 --script=krb5-enum-users --script-args="krb5-enum-users.realm='SPOOKYSEC.LOCAL',userdb=userlist" 10.201.22.141
